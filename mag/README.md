# LVS

These are just really rough notes for now.

LVS should pass for `icell` with the following:

```bash
make clean lvs PROJECT_NAME=icell
```

This will use an existing LVS SPICE netlist generated by xschem ([`icell.spice`](../xschem/simulation/icell.spice)), and it will extract [`icell.mag`](./icell.mag) before comparing the two.

Note that there is also a wrapper cell, `icellwrap`. It adds extra metal routing (m1, m2, and m3 layers) on the top of `icell` to make its connections neatly form a matrix. Since this doesn't change the circuit (and rather just adds extra routing to existing ports), it too is is expected to pass LVS when compared with the `icell` schematic SPICE netlist, as follows:

```bash
make clean lvs PROJECT_NAME=icellwrap SCHEMATIC_NAME=icell
```

So here are all the LVS runs you can do:

```bash
make clean lvs PROJECT_NAME=icell
make clean lvs PROJECT_NAME=icellwrap SCHEMATIC_NAME=icell
make clean lvs PROJECT_NAME=row15x
make clean lvs PROJECT_NAME=array255x
```

There are other cells too (that don't currently support LVS as they don't have *schematic* SPICE netlists):

*   `icellwrapfinal` -- The 'terminal' icell of a row, i.e. the 16th instance that has `Cn` and `Rn` disabled.
*   `icellwrapdummy` -- An icell wired as a dummy instance, placed at each of the start and end of a row.


# Run DRC

It's best to be checking DRC as you are drawing your layout. You can check from the commandline like this:

    make drc

# Update the GDS and LEF

Once your layout is ready to submit generate the GDS and LEF:

    make update_gds

Then head to https://app.tinytapeout.com to submit your design onto the next shuttle.
